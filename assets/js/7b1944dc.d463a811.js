"use strict";(self.webpackChunkvgg_docs=self.webpackChunkvgg_docs||[]).push([[3375],{2644:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>c,contentTitle:()=>t,default:()=>p,frontMatter:()=>o,metadata:()=>a,toc:()=>l});var s=n(1527),r=n(395);const o={title:"File Spec"},t=void 0,a={id:"specs/file",title:"File Spec",description:"VGG File Specification defines how JSON files are fused together as a single",source:"@site/docs/specs/file.md",sourceDirName:"specs",slug:"/specs/file",permalink:"/specs/file",draft:!1,unlisted:!1,editUrl:"https://github.com/verygoodgraphics/vgg_docs/tree/main/docs/specs/file.md",tags:[],version:"current",frontMatter:{title:"File Spec"},sidebar:"specSidebar",previous:{title:"VGG Specs",permalink:"/specs/overview"},next:{title:"Vector Graphics Spec",permalink:"/specs/vectorgraphics/overview"}},c={},l=[{value:"Form 1: Zip of JSONs",id:"form-1-zip-of-jsons",level:2},{value:"Form 2: Streaming binary blob (\ud83d\udea7)",id:"form-2-streaming-binary-blob-",level:2}];function d(e){const i={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.p,{children:"VGG File Specification defines how JSON files are fused together as a single\nfile."}),"\n",(0,s.jsx)(i.p,{children:"There are two forms of file format designed for VGG, namely"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Form 1: Zip of JSONs"}),"\n",(0,s.jsx)(i.li,{children:"Form 2: Streaming binary blob (\ud83d\udea7)"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"Both forms are essentially equivalent, differing only in file size and usage\nscenarios. Form 2 is more compact and has better support for network streaming."}),"\n",(0,s.jsx)(i.h2,{id:"form-1-zip-of-jsons",children:"Form 1: Zip of JSONs"}),"\n",(0,s.jsxs)(i.p,{children:["This is the simplest and most straightforward format, where a file conforming\nto VGG File Spec is simply a zip of all the associated JSONs. The widely\nadopted Zip Spec can be found in ",(0,s.jsx)(i.a,{href:"https://www.iso.org/standard/60101.html",children:"ISO/IEC\n21320-1:2015"})," and many open source\nimplementations are available."]}),"\n",(0,s.jsxs)(i.p,{children:["Currently ",(0,s.jsx)(i.a,{href:"https://daruma.run",children:"Daruma"})," will produce ",(0,s.jsx)(i.code,{children:".daruma"}),"\nfile and ",(0,s.jsx)(i.a,{href:"https://github.com/verygoodgraphics/vgg_runtime",children:"VGG Runtime"})," reads\nit.  This ",(0,s.jsx)(i.code,{children:".daruma"})," file is actually of Form 1, with its own customization. The\nstructure of a typical ",(0,s.jsx)(i.code,{children:".daruma"})," file looks like this after unzipping:"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{children:"\u251c\u2500\u2500 design.json\n\u251c\u2500\u2500 layout.json\n\u251c\u2500\u2500 resources\n\u2502\xa0\xa0 \u251c\u2500\u2500 7cd240ad79432fb602658bbf2d4b6b573681df30.png\n\u2502\xa0\xa0 \u251c\u2500\u2500 a80205d7467dc0e5eafac1cba24ce53ca2ddfae6.png\n\u2502\xa0\xa0 \u2514\u2500\u2500 c1dc652004616cba4640e452e5feca37a4357334.png\n\u2514\u2500\u2500 thumbnail\n    \u2514\u2500\u2500 thumbnail_500_256.png\n"})}),"\n",(0,s.jsxs)(i.p,{children:["where ",(0,s.jsx)(i.code,{children:"design.json"})," conforms to VGG ",(0,s.jsx)(i.a,{href:"/specs/vectorgraphics/overview",children:"Vector Graphics\nSpec"})," and ",(0,s.jsx)(i.code,{children:"layout.json"})," conforms to VGG ",(0,s.jsx)(i.a,{href:"/specs/layout/overview",children:"Layout\nSpec"}),". The images files under ",(0,s.jsx)(i.code,{children:"resources"})," directory are\nreferenced in ",(0,s.jsx)(i.code,{children:"design.json"})," in some filed, like the ",(0,s.jsx)(i.code,{children:"imageFileName"})," field in\n",(0,s.jsx)(i.a,{href:"/specs/vectorgraphics/pattern-image-fill#imagefilename",children:"PatternImageFill"}),"."]}),"\n",(0,s.jsx)(i.h2,{id:"form-2-streaming-binary-blob-",children:"Form 2: Streaming binary blob (\ud83d\udea7)"}),"\n",(0,s.jsxs)(i.p,{children:["This form is optimized for file size and network streaming. It is still in the\ndesign phase. It will be like the ",(0,s.jsx)(i.a,{href:"https://github.com/evanw/kiwi",children:"Kiwi"})," format\nused by Figma."]})]})}function p(e={}){const{wrapper:i}={...(0,r.a)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},395:(e,i,n)=>{n.d(i,{Z:()=>a,a:()=>t});var s=n(959);const r={},o=s.createContext(r);function t(e){const i=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(o.Provider,{value:i},e.children)}}}]);